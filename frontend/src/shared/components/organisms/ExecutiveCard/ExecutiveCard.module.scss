@import '@/styles/variables';
@import '@/styles/mixins';

.card {
  background: $color-background-paper;
  border-radius: $border-radius-xl;
  overflow: hidden;
  
  // ë§¨í•˜íƒ„ ê¸ˆìœµì„¼í„° ìŠ¤íƒ€ì¼ - ë‘êº¼ìš´ ë³´ë”ì™€ ë¯¸ë¬˜í•œ ê·¸ë¦¼ì
  border: 2px solid $color-border-light;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
  
  // Wall Street ìŠ¤íƒ€ì¼ íŠ¸ëœì§€ì…˜
  transition: all $timing-quick $manhattan-ease-out;
  
  // í´ë¦­ ê°€ëŠ¥í•œ ì¹´ë“œ
  &.clickable {
    cursor: pointer;
    
    &:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12);
      border-color: $color-primary;
    }
    
    &:active {
      transform: translateY(-1px);
      transition: all $timing-instant ease-out;
    }
  }
  
  // ê¸°ë°€ ì •ë³´ ì¹´ë“œ
  &.confidential {
    border-color: $color-gold;
    box-shadow: 0 4px 12px rgba($color-gold, 0.15);
    
    &::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 4px;
      background: linear-gradient(
        90deg,
        $color-gold 0%,
        $color-gold-light 50%,
        $color-gold 100%
      );
    }
  }
}

.content {
  padding: $spacing-lg !important; // Material-UI override
  position: relative;
}

// í—¤ë” ì„¹ì…˜
.header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  margin-bottom: $spacing-md;
}

.titleSection {
  flex: 1;
}

.title {
  color: $color-text-primary;
  font-weight: $font-weight-semibold;
  margin: 0 0 $spacing-xs 0;
  line-height: $line-height-tight;
}

.subtitle {
  color: $color-text-secondary;
  margin: 0;
  font-weight: $font-weight-normal;
}

.controls {
  display: flex;
  align-items: center;
  gap: $spacing-xs;
  margin-left: $spacing-sm;
}

.priorityChip {
  font-size: $font-size-xs;
  font-weight: $font-weight-medium;
  height: 24px;
}

.visibilityButton {
  color: $color-text-secondary;
  transition: all $timing-quick $manhattan-ease-out;
  
  &:hover {
    color: $color-primary;
    transform: scale(1.1);
  }
}

// ë©”ì¸ ê°’ ì„¹ì…˜
.valueSection {
  margin-bottom: $spacing-md;
}

.mainValue {
  display: flex;
  align-items: baseline;
  gap: $spacing-xs;
  margin-bottom: $spacing-sm;
}

.value {
  color: $color-text-primary;
  font-weight: $font-weight-bold;
  line-height: $line-height-tight;
  margin: 0;
  
  // ìˆ«ì í°íŠ¸ ìµœì í™” (ê¸ˆìœµê¶Œ í‘œì¤€)
  font-variant-numeric: tabular-nums;
  font-family: $font-family-monospace;
}

.unit {
  color: $color-text-secondary;
  font-weight: $font-weight-normal;
  margin: 0;
}

// ë³€í™”ëŸ‰ ì„¹ì…˜
.changeSection {
  display: flex;
  align-items: center;
  gap: $spacing-xs;
}

.trendIcon {
  font-size: 20px;
}

.trendUp {
  color: $color-success;
}

.trendDown {
  color: $color-error;
}

.trendNeutral {
  color: $color-text-secondary;
}

.change {
  font-weight: $font-weight-medium;
  font-variant-numeric: tabular-nums;
  margin: 0;
}

.changePositive {
  color: $color-success;
}

.changeNegative {
  color: $color-error;
}

.changeNeutral {
  color: $color-text-secondary;
}

// ê¸°ë°€ ì •ë³´ ìˆ¨ê¹€ ìƒíƒœ
.hiddenValue {
  text-align: center;
  padding: $spacing-md 0;
}

.confidentialText {
  color: $color-text-disabled;
  font-weight: $font-weight-normal;
  letter-spacing: 4px;
  margin: 0 0 $spacing-xs 0;
}

.confidentialNotice {
  color: $color-gold;
  font-weight: $font-weight-medium;
  font-size: $font-size-xs;
  text-transform: uppercase;
  letter-spacing: 1px;
  margin: 0;
}

// ì„¤ëª…
.description {
  color: $color-text-secondary;
  line-height: $line-height-base;
  margin: 0;
  border-top: 1px solid $color-border-light;
  padding-top: $spacing-sm;
}

// ğŸ“ˆ ìš°ì„ ìˆœìœ„ë³„ ìŠ¤íƒ€ì¼ (Wall Street Priority System)
.priorityCritical {
  border-left-color: $color-error;
  
  .priorityChip {
    background-color: rgba($color-error, 0.1);
    color: $color-error;
  }
}

.priorityHigh {
  border-left-color: $color-warning;
  
  .priorityChip {
    background-color: rgba($color-warning, 0.1);
    color: $color-warning;
  }
}

.priorityMedium {
  border-left-color: $color-info;
  
  .priorityChip {
    background-color: rgba($color-info, 0.1);
    color: $color-info;
  }
}

.priorityLow {
  border-left-color: $color-success;
  
  .priorityChip {
    background-color: rgba($color-success, 0.1);
    color: $color-success;
  }
}

// ğŸ›ï¸ ê¶Œí•œ ë ˆë²¨ë³„ í¬ê¸° ë° ìŠ¤íƒ€ì¼ (Executive Hierarchy)
.authorityCeo {
  // CEO ì „ìš© - ìµœëŒ€ í¬ê¸°ì™€ í”„ë¦¬ë¯¸ì—„ ìŠ¤íƒ€ì¼
  min-height: $executive-card-height * 1.2;
  
  .title {
    font-size: $font-size-xl;
  }
  
  .value {
    font-size: 3.5rem;
  }
  
  .content {
    padding: $executive-padding !important;
  }
  
  // í”„ë¦¬ë¯¸ì—„ ê³¨ë“œ ì•…ì„¼íŠ¸
  &::after {
    content: '';
    position: absolute;
    top: 0;
    right: 0;
    width: 4px;
    height: 100%;
    background: linear-gradient(
      180deg,
      $color-gold 0%,
      $color-gold-light 50%,
      $color-gold 100%
    );
  }
}

.authorityExecutive {
  // ì„ì›ê¸‰ - í° í¬ê¸°
  min-height: $executive-card-height;
  
  .title {
    font-size: $font-size-lg;
  }
  
  .value {
    font-size: 3rem;
  }
  
  .content {
    padding: $spacing-xl !important;
  }
}

.authorityDirector {
  // ë¶€ì¥ê¸‰ - ì¤‘ê°„ í¬ê¸°
  min-height: 120px;
  
  .title {
    font-size: $font-size-base;
  }
  
  .value {
    font-size: 2.5rem;
  }
  
  .content {
    padding: $spacing-lg !important;
  }
}

.authorityManager {
  // íŒ€ì¥ê¸‰ - í‘œì¤€ í¬ê¸°
  min-height: 100px;
  
  .title {
    font-size: $font-size-sm;
  }
  
  .value {
    font-size: 2rem;
  }
  
  .content {
    padding: $spacing-md !important;
  }
}

.authorityStaff {
  // ì§ì›ê¸‰ - ì‘ì€ í¬ê¸° (Trading Floor ìŠ¤íƒ€ì¼)
  min-height: 80px;
  
  .title {
    font-size: $font-size-xs;
  }
  
  .value {
    font-size: 1.5rem;
  }
  
  .content {
    padding: $spacing-sm !important;
  }
}

// ë°˜ì‘í˜• ë””ìì¸
@include responsive-breakpoint($breakpoint-tablet) {
  .card {
    .mainValue {
      flex-direction: column;
      align-items: flex-start;
      gap: $spacing-xs / 2;
    }
  }
  
  // íƒœë¸”ë¦¿ì—ì„œëŠ” ê¶Œí•œ ë ˆë²¨ë³„ í¬ê¸° ì¡°ì •
  .authorityCeo {
    .value {
      font-size: 3rem;
    }
  }
  
  .authorityExecutive {
    .value {
      font-size: 2.5rem;
    }
  }
  
  .authorityDirector {
    .value {
      font-size: 2rem;
    }
  }
}

@include responsive-breakpoint($breakpoint-mobile) {
  .card {
    min-height: auto;
    
    .header {
      flex-direction: column;
      gap: $spacing-sm;
      align-items: flex-start;
    }
    
    .controls {
      margin-left: 0;
      align-self: flex-end;
    }
  }
  
  // ëª¨ë°”ì¼ì—ì„œëŠ” ëª¨ë“  ê¶Œí•œ ë ˆë²¨ í†µì¼
  .authorityCeo,
  .authorityExecutive,
  .authorityDirector,
  .authorityManager,
  .authorityStaff {
    min-height: 120px;
    
    .value {
      font-size: 2rem;
    }
    
    .content {
      padding: $spacing-md !important;
    }
  }
}