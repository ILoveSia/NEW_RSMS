# 책무관리 요구사항정의서

## 1. 화면 개요

### 1.1 화면 정보
- **화면명**: 책무관리
- **화면ID**: RESPONSIBILITY_MANAGEMENT
- **메뉴경로**: 책무구조도 > 원장관리 > 책무관리
- **화면유형**: 목록조회 + 등록/수정/상세조회 팝업

### 1.2 화면 목적
- 직책별 책무(Responsibility) 정의 및 관리
- 책무-책무세부내용 계층구조 관리
- 관리의무와 소관조직 매핑 관리
- 금융감독원 등 규제기관 보고용 책무체계 구축

## 2. 기능 요구사항

### 2.1 목록 조회 기능
- **FR-001**: 책무 목록 조회
  - 직책별 책무 정보를 계층구조로 표시
  - 순번, 직책, 책무, 책무세부내용, 관리의무, 부정명 표시
  - 등록일자, 등록자, 등록자직책, 등록자, 상태, 사용여부 표시
  - 실시간 데이터 조회

- **FR-002**: 검색 및 필터링 기능
  - 직책명으로 LIKE 검색
  - 부서명으로 검색
  - 부정명으로 검색
  - 관리의무 유무별 필터링
  - 상태별 필터링 (전체/사용/미사용)

### 2.2 책무 등록 기능
- **FR-003**: 신규 책무 등록
  - 책무 추가 팝업 화면 제공
  - 직책 선택 (리스크관리본부장 등)
  - 책무, 책무세부내용 입력
  - 관리의무 추가 및 매핑
  - 계층구조 자동 생성

### 2.3 책무 상세 조회 기능
- **FR-004**: 책무 상세 정보 조회
  - 책무 상세 팝업에서 전체 정보 표시
  - 직책 기본정보 표시
  - 책무 목록 테이블 (책무대분류, 책무, 관련근거, 최종변경일자, 사용여부)
  - 책무세부내용 목록 테이블 (연결책무, 책무세부내용, 최종변경일자, 사용여부)
  - 관리의무 목록 테이블 (관리의무대분류구분, 관리의무중분류구분, 관리의무코드, 관리의무, 부정명, 사용여부)

### 2.4 책무 수정 기능
- **FR-005**: 기존 책무 정보 수정
  - 각 섹션별 추가/수정 기능
  - 책무, 책무세부내용, 관리의무 개별 관리
  - 변경 이력 자동 생성
  - 일괄 저장 기능

### 2.5 책무 구조 관리 기능
- **FR-006**: 책무 계층구조 관리
  - 책무 > 책무세부내용 > 관리의무 3단계 구조
  - 상위-하위 관계 매핑
  - 계층별 독립적인 추가/수정/삭제

### 2.6 관리의무 매핑 기능
- **FR-007**: 관리의무와 소관조직 매핑
  - 관리의무별 소관조직 지정
  - 대분류-중분류-관리의무코드 체계
  - 부정명과의 연결관계 관리

## 3. UI/UX 요구사항

### 3.1 레이아웃 요구사항
- **UI-001**: 좌측 메뉴 네비게이션 고정
- **UI-002**: 상단 검색 필터 영역 (직책, 부서명, 부정명, 책무세부내용, 관리의무, 상태)
- **UI-003**: 중앙 메인 테이블 영역 구성
- **UI-004**: 우측 하단 추가 버튼 배치

### 3.2 테이블 컬럼 요구사항
- **UI-005**: 목록 화면 컬럼
  - 순번, 직책, 책무, 책무세부내용, 관리의무, 부정명
  - 등록일자, 등록자, 등록자직책, 등록자, 상태, 사용여부

### 3.3 인터랙션 요구사항
- **UI-006**: 직책 클릭 시 상세조회 팝업
- **UI-007**: 추가 버튼 클릭 시 등록 팝업
- **UI-008**: 계층구조 확장/축소 기능
- **UI-009**: 각 섹션별 개별 추가 버튼

### 3.4 팝업 화면 요구사항
- **UI-010**: 책무 추가 팝업
  - 직책 선택 드롭다운
  - 직책 정보 테이블 (직책, 본부구분, 부서명, 부정명)
  - 책무 섹션 (추가/저장 버튼)
  - 책무세부내용 섹션 (추가/저장 버튼)
  - 관리의무 섹션 (추가/저장 버튼)

- **UI-011**: 책무 상세/수정 팝업
  - 기본정보 표시
  - 3개 섹션 탭 형태로 구성
  - 각 섹션별 데이터 테이블
  - 추가/수정/저장 버튼

## 4. 데이터 요구사항

### 4.1 입력 데이터
- **DR-001**: 직책코드 (필수, 외래키)
- **DR-002**: 책무명 (필수, 최대 200자)
- **DR-003**: 책무세부내용 (필수, 최대 500자)
- **DR-004**: 관리의무코드 (필수, 외래키)
- **DR-005**: 관련근거 (선택, 최대 500자)
- **DR-006**: 사용여부 (필수, Y/N)

### 4.2 출력 데이터
- **DR-007**: 책무 계층구조 정보
- **DR-008**: 직책별 책무 현황
- **DR-009**: 관리의무별 소관조직 현황
- **DR-010**: 페이징 정보

### 4.3 연계 데이터
- **DR-011**: 직책 마스터 정보 연계
- **DR-012**: 조직 마스터 정보 연계
- **DR-013**: 관리의무 마스터 정보 연계

## 5. 비기능 요구사항

### 5.1 성능 요구사항
- **NFR-001**: 목록 조회 응답시간 3초 이내
- **NFR-002**: 검색 응답시간 2초 이내
- **NFR-003**: 팝업 로딩 시간 1초 이내
- **NFR-004**: 동시 사용자 50명 지원

### 5.2 보안 요구사항
- **NFR-005**: 관리자 권한 사용자만 접근 가능
- **NFR-006**: 책무 정보 수정 권한 관리
- **NFR-007**: 입력값 XSS/SQL Injection 방어
- **NFR-008**: 민감정보 로깅 제한

### 5.3 규제 준수 요구사항
- **NFR-009**: 금융감독원 보고 기준 준수
- **NFR-010**: 내부통제 규정 준수
- **NFR-011**: 데이터 보존 기간 준수 (7년)

## 6. 예외처리 요구사항

### 6.1 입력 검증
- **EX-001**: 필수값 누락 시 오류 메시지
- **EX-002**: 중복 책무 등록 시 경고 메시지
- **EX-003**: 유효하지 않은 직책코드 입력 방지
- **EX-004**: 글자수 초과 시 입력 제한

### 6.2 비즈니스 규칙 검증
- **EX-005**: 책무 계층구조 무결성 검증
- **EX-006**: 관리의무 매핑 필수 검증
- **EX-007**: 상위 책무 삭제 시 하위 항목 처리
- **EX-008**: 순환 참조 방지

### 6.3 시스템 오류
- **EX-009**: 네트워크 오류 시 재시도 옵션
- **EX-010**: 서버 오류 시 사용자 친화적 메시지
- **EX-011**: 세션 만료 시 로그인 페이지 이동
- **EX-012**: 동시 수정 충돌 방지

## 7. 화면 플로우

### 7.1 기본 플로우
```
1. 책무관리 메뉴 접근
2. 책무 목록 자동 조회
3. 검색 조건 입력/변경
4. 필터링된 결과 표시
5. 직책 선택 → 상세조회 팝업
6. 필요시 수정 처리
```

### 7.2 책무 등록 플로우
```
1. 추가 버튼 클릭
2. 책무 추가 팝업 표시
3. 직책 선택
4. 책무 정보 입력
5. 책무세부내용 추가
6. 관리의무 매핑
7. 유효성 검증
8. 저장 처리
9. 목록 새로고침
```

### 7.3 계층구조 관리 플로우
```
1. 책무 상세 팝업에서 수정 모드
2. 책무 섹션 추가/수정
3. 책무세부내용 섹션 추가/수정
4. 관리의무 섹션 추가/수정
5. 계층구조 검증
6. 저장 처리
```

## 8. 비즈니스 규칙

### 8.1 책무 구조 규칙
- **BR-001**: 책무 > 책무세부내용 > 관리의무 3단계 필수 구조
- **BR-002**: 직책당 복수의 책무 허용
- **BR-003**: 책무당 복수의 세부내용 허용
- **BR-004**: 세부내용당 복수의 관리의무 허용

### 8.2 매핑 관리 규칙
- **BR-005**: 관리의무는 반드시 소관조직과 매핑되어야 함
- **BR-006**: 동일 직책-책무 조합 중복 불가
- **BR-007**: 상위 항목 삭제 시 하위 항목 자동 비활성화
- **BR-008**: 관리의무코드는 표준코드 체계 준수

### 8.3 데이터 관리 규칙
- **BR-009**: 책무 삭제 시 사용여부 'N'으로 논리삭제
- **BR-010**: 변경 시 변경 이력 자동 생성
- **BR-011**: 규제기관 보고 대상 데이터는 삭제 제한

## 9. 연계 시스템

### 9.1 내부 연계
- **IS-001**: 직책관리 시스템과 연계
- **IS-002**: 조직관리 시스템과 연계
- **IS-003**: 관리의무 마스터와 연계

### 9.2 외부 연계
- **ES-001**: 금융감독원 보고시스템 연계
- **ES-002**: 내부통제 시스템 연계
- **ES-003**: 리스크관리 시스템 연계

## 10. 코드 체계

### 10.1 관리의무 코드 체계
- **CC-001**: 대분류구분 (2자리 알파벳)
- **CC-002**: 중분류구분 (2자리 숫자)
- **CC-003**: 관리의무코드 (8자리 영숫자)
- **CC-004**: 관리의무명 (최대 200자)

### 10.2 책무 코드 체계
- **CC-005**: 책무코드 (10자리 영숫자)
- **CC-006**: 책무세부코드 (12자리 영숫자)
- **CC-007**: 계층레벨 (1-3단계)

## 11. 보고서 요구사항

### 11.1 규제 보고서
- **RP-001**: 직책별 책무 현황 보고서
- **RP-002**: 관리의무별 소관조직 현황
- **RP-003**: 책무체계 변경 내역 보고서

### 11.2 내부 보고서
- **RP-004**: 책무 매핑 현황
- **RP-005**: 미매핑 관리의무 현황
- **RP-006**: 책무체계 완성도 현황

## 12. 테스트 케이스

### 12.1 기능 테스트
- **TC-001**: 책무 목록 정상 조회
- **TC-002**: 책무 등록 정상 처리
- **TC-003**: 책무 수정 정상 처리
- **TC-004**: 책무 삭제 정상 처리
- **TC-005**: 계층구조 관리 정상 동작
- **TC-006**: 검색 필터링 정상 동작

### 12.2 예외 테스트
- **TC-007**: 중복 책무 등록 시 오류 처리
- **TC-008**: 필수 매핑 누락 시 오류 처리
- **TC-009**: 계층구조 무결성 위반 시 오류 처리
- **TC-010**: 권한 없는 사용자 접근 차단

### 12.3 비즈니스 규칙 테스트
- **TC-011**: 3단계 계층구조 필수 검증
- **TC-012**: 관리의무 매핑 필수 검증
- **TC-013**: 상위 항목 삭제 시 하위 처리
- **TC-014**: 코드 체계 표준 준수 검증

## 13. 데이터 마이그레이션

### 13.1 기존 데이터 이관
- **DM-001**: 기존 직책 정보 이관
- **DM-002**: 기존 조직 정보 이관
- **DM-003**: 기존 관리의무 정보 이관

### 13.2 데이터 검증
- **DM-004**: 이관 데이터 무결성 검증
- **DM-005**: 계층구조 정합성 검증
- **DM-006**: 매핑 관계 정합성 검증