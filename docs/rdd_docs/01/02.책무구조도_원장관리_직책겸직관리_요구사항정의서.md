# 직책겸직관리 요구사항정의서

## 1. 화면 개요

### 1.1 화면 정보
- **화면명**: 직책겸직관리
- **화면ID**: POSITION_CONCURRENT_MANAGEMENT
- **메뉴경로**: 책무구조도 > 원장관리 > 직책겸직관리
- **화면유형**: 목록조회 + 겸직추가/수정 팝업

### 1.2 화면 목적
- 직책별 겸직 현황 조회 및 관리
- 직책간 겸직 관계 설정 및 해제
- 겸직 이력 관리 및 추적
- 겸직 승인 상태 관리

## 2. 기능 요구사항

### 2.1 목록 조회 기능
- **FR-001**: 직책 겸직 목록 조회
  - 겸직현황코드별 직책 정보 표시
  - 직책코드, 직책명, 대표여부, 부서명, 등록정보 표시
  - 실시간 데이터 조회

- **FR-002**: 검색 및 필터링 기능
  - 직책명으로 LIKE 검색
  - 상태별 필터링 (전체/사용/미사용)
  - 대표여부별 필터링

### 2.2 겸직 추가 기능
- **FR-003**: 새로운 겸직 관계 등록
  - 겸직 추가 팝업 화면 제공
  - 겸직현황코드 자동 생성 또는 지정
  - 직책 선택 및 대표여부 설정
  - 중복 겸직 관계 검증

### 2.3 겸직 수정 기능
- **FR-004**: 기존 겸직 관계 수정
  - 겸직 수정 팝업 화면 제공
  - 겸직현황코드 기반 수정
  - 직책별 대표여부 변경
  - 겸직 관계 추가/제거

### 2.4 겸직 관리 기능
- **FR-005**: 겸직 승인 처리
  - 겸직 승인/반려 기능
  - 승인 이력 관리
  - 승인자 정보 기록

- **FR-006**: 겸직 해제 처리
  - 겸직 관계 해제
  - 논리삭제 방식 적용
  - 해제 사유 기록

## 3. UI/UX 요구사항

### 3.1 레이아웃 요구사항
- **UI-001**: 좌측 메뉴 네비게이션 고정
- **UI-002**: 상단 검색 필터 영역 제공
- **UI-003**: 중앙 메인 테이블 영역 구성
- **UI-004**: 우측 하단 추가 버튼 배치

### 3.2 테이블 컬럼 요구사항
- **UI-005**: 표시 컬럼
  - 순번, 겸직현황코드, 직책코드, 직책명, 대표여부, 부서명
  - 등록일자, 등록자, 등록자직책, 변경일자, 변경자, 변경자직책, 사용여부

### 3.3 인터랙션 요구사항
- **UI-006**: 행 선택 시 상세정보 표시
- **UI-007**: 추가 버튼 클릭 시 겸직 추가 팝업
- **UI-008**: 겸직현황코드 클릭 시 수정 팝업
- **UI-009**: 대표여부 Y/N 상태 표시

### 3.4 팝업 화면 요구사항
- **UI-010**: 겸직 추가 팝업
  - 겸직현황코드 입력/자동생성
  - 직책 선택 테이블
  - 대표여부 체크박스
  - 추가/저장/닫기 버튼

- **UI-011**: 겸직 수정 팝업
  - 기존 겸직 정보 표시
  - 직책별 대표여부 수정
  - 새 직책 추가 기능
  - 수정/저장/닫기 버튼

## 4. 데이터 요구사항

### 4.1 입력 데이터
- **DR-001**: 겸직현황코드 (필수, 최대 20자)
- **DR-002**: 직책코드 (필수, 외래키)
- **DR-003**: 대표여부 (필수, Y/N)
- **DR-004**: 사용여부 (필수, Y/N)
- **DR-005**: 시작일자 (선택)
- **DR-006**: 종료일자 (선택)

### 4.2 출력 데이터
- **DR-007**: 겸직 목록 정보
- **DR-008**: 직책별 겸직 현황
- **DR-009**: 대표직책 정보
- **DR-010**: 겸직 이력 정보

### 4.3 연계 데이터
- **DR-011**: 직책마스터 정보 연계
- **DR-012**: 조직마스터 정보 연계
- **DR-013**: 사용자 정보 연계

## 5. 비기능 요구사항

### 5.1 성능 요구사항
- **NFR-001**: 목록 조회 응답시간 3초 이내
- **NFR-002**: 검색 응답시간 2초 이내
- **NFR-003**: 동시 사용자 50명 지원
- **NFR-004**: 팝업 로딩 시간 1초 이내

### 5.2 보안 요구사항
- **NFR-005**: 관리자 권한 사용자만 접근 가능
- **NFR-006**: 겸직 승인 권한 별도 관리
- **NFR-007**: 입력값 XSS/SQL Injection 방어
- **NFR-008**: 민감정보 암호화 처리

### 5.3 가용성 요구사항
- **NFR-009**: 24시간 운영 가능
- **NFR-010**: 데이터 백업/복구 지원
- **NFR-011**: 장애 복구 시간 30분 이내

## 6. 예외처리 요구사항

### 6.1 입력 검증
- **EX-001**: 필수값 누락 시 오류 메시지 표시
- **EX-002**: 중복 겸직 관계 설정 시 경고
- **EX-003**: 대표직책 중복 설정 방지
- **EX-004**: 유효하지 않은 직책코드 입력 방지

### 6.2 비즈니스 규칙 검증
- **EX-005**: 겸직현황코드별 최소 1개 직책 보장
- **EX-006**: 대표직책 필수 설정 검증
- **EX-007**: 겸직 기간 유효성 검증
- **EX-008**: 순환 겸직 관계 방지

### 6.3 시스템 오류
- **EX-009**: 네트워크 오류 시 재시도 옵션
- **EX-010**: 서버 오류 시 사용자 친화적 메시지
- **EX-011**: 세션 만료 시 로그인 페이지 이동
- **EX-012**: 데이터 동시성 충돌 처리

## 7. 화면 플로우

### 7.1 기본 플로우
```
1. 직책겸직관리 메뉴 접근
2. 겸직 목록 자동 조회
3. 검색 조건 입력/변경
4. 필터링된 결과 표시
5. 겸직현황코드 선택 → 수정 팝업
6. 겸직 관계 수정/저장
```

### 7.2 겸직 추가 플로우
```
1. 추가 버튼 클릭
2. 겸직 추가 팝업 표시
3. 겸직현황코드 입력
4. 직책 선택 및 대표여부 설정
5. 유효성 검증
6. 저장 처리
7. 목록 새로고침
```

### 7.3 겸직 수정 플로우
```
1. 겸직현황코드 선택
2. 겸직 수정 팝업 표시
3. 기존 겸직 정보 로드
4. 직책 추가/제거/수정
5. 대표여부 변경
6. 저장 처리
7. 목록 새로고침
```

## 8. 비즈니스 규칙

### 8.1 겸직 관리 규칙
- **BR-001**: 하나의 겸직현황코드에는 반드시 대표직책이 1개 존재해야 함
- **BR-002**: 같은 겸직현황코드 내에서 직책 중복 불가
- **BR-003**: 겸직 관계는 시작일자 기준으로 관리
- **BR-004**: 겸직 해제 시 종료일자 자동 설정

### 8.2 승인 관리 규칙
- **BR-005**: 겸직 설정은 승인 후 효력 발생
- **BR-006**: 대표직책 변경은 별도 승인 필요
- **BR-007**: 겸직 해제는 즉시 처리 가능

### 8.3 데이터 관리 규칙
- **BR-008**: 겸직 이력은 영구 보관
- **BR-009**: 삭제 시 논리삭제 방식 적용
- **BR-010**: 변경 이력 자동 생성

## 9. 연계 시스템

### 9.1 내부 연계
- **IS-001**: 직책관리 시스템과 연계
- **IS-002**: 조직관리 시스템과 연계
- **IS-003**: 사용자관리 시스템과 연계
- **IS-004**: 권한관리 시스템과 연계

### 9.2 외부 연계
- **ES-001**: 인사시스템 겸직 정보 동기화
- **ES-002**: 결재시스템 승인라인 반영
- **ES-003**: 보고서시스템 조직도 반영

## 10. 테스트 케이스

### 10.1 기능 테스트
- **TC-001**: 겸직 목록 정상 조회
- **TC-002**: 겸직 추가 정상 처리
- **TC-003**: 겸직 수정 정상 처리
- **TC-004**: 겸직 삭제 정상 처리
- **TC-005**: 검색 필터링 정상 동작

### 10.2 예외 테스트
- **TC-006**: 중복 겸직 관계 설정 시 오류 처리
- **TC-007**: 대표직책 미설정 시 오류 처리
- **TC-008**: 권한 없는 사용자 접근 차단
- **TC-009**: 잘못된 입력값 검증

### 10.3 성능 테스트
- **TC-010**: 대량 데이터 조회 성능
- **TC-011**: 동시 접속 처리 성능
- **TC-012**: 팝업 로딩 성능