# 접근로그 요구사항정의서

## 1. 개요

### 1.1 시스템 개요
- **시스템명**: 책무구조도 이행관리시스템 - 접근로그
- **모듈명**: 관리자 > 공통관리 > 접근로그
- **목적**: 시스템 사용자의 메뉴 접근 및 활동 로그 조회 및 분석
- **사용자**: 시스템 관리자

### 1.2 화면 구성
- 메인 화면: 접근로그 조회 및 검색 기능

## 2. 기능 요구사항

### 2.1 검색 조건 기능

#### 2.1.1 기본 검색 조건
- **접근대상**: 드롭다운 선택 (전체)
- **접근일자**: 날짜 범위 선택
  - 시작일: 2025-09-03 (날짜 선택기)
  - 종료일: 2025-09-11 (날짜 선택기)
- **직번**: 사용자 직번으로 검색
- **접근IP**: IP 주소로 검색
- **메뉴명**: 접근한 메뉴명으로 검색
- **성명**: 사용자명으로 검색

#### 2.1.2 검색 실행
- **조회**: 설정된 조건으로 로그 검색
- 실시간 필터링 지원

### 2.2 접근로그 목록 표시

#### 2.2.1 목록 정보 표시
**표시 컬럼:**
- 접근대상 (메뉴 분류)
- 메뉴명 (접근한 메뉴)
- 직번 (사용자 식별번호)
- 성명 (사용자명)
- 부정 (소속 부서/직책)
- 접근IP (접근 IP 주소)
- 접근일 (접근 날짜)
- 접근시간 (접근 시각)

#### 2.2.2 로그 데이터 (이미지 기준)
**접근로그 현황 (427건):**
- 101 / 관리자 > 공통관리 > 접근로그 / 0000000 / 관리자 / 뱅가드랩 / 203.224.160.185 / 2025-09-10 / 14:07:33.278
- 101 / 관리자 > 공통관리 > 사용자관리 / 0000000 / 관리자 / 뱅가드랩 / 203.224.160.185 / 2025-09-10 / 14:05:00.432
- 101 / 관리자 > 공통관리 > 역할관리 / 0000000 / 관리자 / 뱅가드랩 / 203.224.160.185 / 2025-09-10 / 14:03:19.009
- 101 / 관리자 > 공통관리 > 메뉴관리 / 0000000 / 관리자 / 뱅가드랩 / 203.224.160.185 / 2025-09-10 / 14:03:17.753
- 101 / 관리자 > 공통관리 > 코드관리 / 0000000 / 관리자 / 뱅가드랩 / 203.224.160.185 / 2025-09-10 / 13:55:09.124
- 101 / 관리자 > sample > 조직도리(test) / 0000000 / 관리자 / 뱅가드랩 / 203.224.160.185 / 2025-09-10 / 13:55:05.855
- 101 / 관리자 > 메뉴로그 / 0000000 / 관리자 / 뱅가드랩 / 203.224.160.185 / 2025-09-10 / 13:55:03.107

**책무구조도 관련 로그:**
- 101 / 책무구조도 > 개선이행 > 이행점검 보고서 개선이행 / 0000000 / 관리자 / 뱅가드랩 / 203.224.160.185 / 2025-09-10 / 13:53:18.132
- 101 / 책무구조도 > 개선이행 > 관리활동/이행점검 개선이행 / 0000000 / 관리자 / 뱅가드랩 / 203.224.160.185 / 2025-09-10 / 13:51:40.752
- 101 / 책무구조도 > 관리활동 > 관리활동 수행 / 0000000 / 관리자 / 뱅가드랩 / 203.224.160.185 / 2025-09-10 / 13:51:21.404
- 101 / 책무구조도 > 관리활동 > 업무메뉴얼조회 / 0000000 / 관리자 / 뱅가드랩 / 203.224.160.185 / 2025-09-10 / 13:51:15.905
- 101 / 책무구조도 > 관리활동 > 수행지정 / 0000000 / 관리자 / 뱅가드랩 / 203.224.160.185 / 2025-09-10 / 13:51:06.472

### 2.3 목록 관리 기능

#### 2.3.1 데이터 내보내기
- **엑셀**: 검색된 로그 데이터 엑셀 다운로드
- 필터링된 결과만 내보내기

#### 2.3.2 페이징 처리
- **페이지 정보**: 현재 1페이지, 총 15페이지
- **페이지 크기**: 30건/페이지
- **페이지 네비게이션**: 이전/다음 페이지 이동
- **페이지 직접 이동**: 특정 페이지로 바로 이동

#### 2.3.3 정렬 기능
- **기본 정렬**: 접근시간 역순 (최신순)
- **컬럼 정렬**: 각 컬럼별 오름차순/내림차순 정렬

## 3. 비기능 요구사항

### 3.1 성능 요구사항
- 로그 조회 응답시간: 5초 이내
- 엑셀 다운로드: 10초 이내 (10,000건 기준)
- 실시간 검색: 2초 이내
- 대용량 로그 처리: 1,000,000건까지 조회 지원

### 3.2 보안 요구사항
- 관리자 권한 검증 필수
- 로그 조회 권한 세분화
- 개인정보 마스킹 처리
- 로그 조회 이력 추적

### 3.3 사용성 요구사항
- 직관적인 검색 인터페이스
- 빠른 날짜 범위 선택
- 실시간 검색 결과 업데이트
- 로그 상세 정보 툴팁 표시

## 4. 화면 흐름도

```
접근로그 메인 화면
    ↓ [검색 조건 설정]
검색 조건 입력
    ↓ [조회 버튼]
필터링된 로그 목록 표시
    ↓ [엑셀 다운로드]
검색 결과 엑셀 파일 생성

접근로그 목록
    ↓ [페이지 네비게이션]
페이지 이동
    ↓ [정렬 변경]
정렬된 목록 표시
```

## 5. 데이터 처리 규칙

### 5.1 로그 수집 규칙
- 모든 메뉴 접근 시 자동 로그 생성
- 세션 시작/종료 로그 기록
- 중요 기능 실행 시 상세 로그 기록
- 오류 발생 시 오류 로그 생성

### 5.2 로그 보존 규칙
- **실시간 로그**: 3개월간 온라인 보관
- **월별 아카이브**: 2년간 오프라인 보관
- **연별 요약**: 7년간 장기 보관
- **중요 로그**: 영구 보관

### 5.3 검색 최적화 규칙
- 날짜 범위 검색 우선 적용
- 인덱스 기반 빠른 검색
- 대용량 데이터 페이징 처리
- 캐싱을 통한 반복 검색 최적화

## 6. 예외 처리

### 6.1 검색 조건 예외
- 날짜 범위 유효성 검사
- 검색 기간 제한 (최대 3개월)
- 필수 검색 조건 누락 시 경고
- 잘못된 검색어 형식 검증

### 6.2 데이터 처리 예외
- 대용량 데이터 조회 시 타임아웃 방지
- 메모리 부족 시 분할 처리
- 네트워크 오류 시 재시도
- 동시 접속 시 성능 저하 방지

### 6.3 시스템 오류 처리
- 로그 파일 손상 시 복구 처리
- 데이터베이스 연결 실패 처리
- 디스크 용량 부족 시 알림
- 백업 시스템 자동 전환

## 7. 인터페이스 요구사항

### 7.1 다른 시스템과의 연계
- 사용자 관리 시스템: 사용자 정보 연동
- 메뉴 관리 시스템: 메뉴 정보 연동
- 감사 시스템: 감사 로그 전송
- 보안 관제 시스템: 이상 행위 알림

### 7.2 실시간 모니터링
- 실시간 접근 현황 대시보드
- 이상 접근 패턴 감지
- 보안 이벤트 실시간 알림
- 시스템 성능 모니터링

## 8. 테스트 케이스

### 8.1 기능 테스트
- 검색 조건별 로그 조회 테스트
- 페이징 및 정렬 기능 테스트
- 엑셀 다운로드 기능 테스트
- 날짜 범위 검색 테스트

### 8.2 성능 테스트
- 대용량 로그 조회 성능 테스트
- 동시 접속 시 응답 속도 테스트
- 메모리 사용량 테스트
- 디스크 I/O 성능 테스트

### 8.3 보안 테스트
- 권한 없는 접근 차단 테스트
- 로그 위변조 방지 테스트
- 개인정보 마스킹 테스트
- SQL Injection 방지 테스트

## 9. 운영 및 유지보수

### 9.1 모니터링
- 로그 생성량 모니터링
- 검색 성능 모니터링
- 시스템 리소스 사용량 추적
- 오류 발생 빈도 분석

### 9.2 백업 및 복구
- 일별 로그 백업
- 주별 아카이브 생성
- 장애 시 복구 절차
- 데이터 무결성 검증

### 9.3 성능 최적화
- 인덱스 최적화
- 파티셔닝 적용
- 쿼리 성능 튜닝
- 캐시 전략 수립

## 10. 보안 및 컴플라이언스

### 10.1 로그 보안
- 로그 데이터 암호화
- 접근 권한 세분화
- 로그 위변조 방지
- 보안 감사 추적

### 10.2 개인정보 보호
- 개인정보 자동 마스킹
- 로그 보존 기간 준수
- 개인정보 처리 방침 적용
- 정보주체 권리 보장

### 10.3 규정 준수
- 정보보안 관리체계 준수
- 감사 요구사항 충족
- 법적 요구사항 대응
- 내부 통제 체계 연동

## 11. 확장성 고려사항

### 11.1 용량 확장
- 수평적 확장 지원
- 분산 로그 저장
- 클러스터링 지원
- 로드 밸런싱 적용

### 11.2 기능 확장
- 실시간 로그 분석
- 머신러닝 기반 패턴 분석
- 시각화 대시보드
- 알림 및 경고 시스템

### 11.3 통합 확장
- 외부 SIEM 시스템 연동
- API 기반 로그 수집
- 클라우드 로그 서비스 연동
- 빅데이터 분석 플랫폼 연계