# 코드관리 요구사항정의서

## 1. 개요

### 1.1 시스템 개요
- **시스템명**: 책무구조도 이행관리시스템 - 코드관리
- **모듈명**: 관리자 > 공통관리 > 코드관리
- **목적**: 시스템에서 사용하는 공통 코드 및 코드 상세의 통합 관리
- **사용자**: 시스템 관리자

### 1.2 화면 구성
- 메인 화면: 그룹코드 목록 조회 및 관리
- 코드 상세 화면: 선택된 그룹코드의 상세 코드 관리
- 양방향 연동 화면: 그룹코드와 상세코드 동시 관리

## 2. 기능 요구사항

### 2.1 메인 화면 기능 (그룹코드 관리)

#### 2.1.1 검색 기능
- **그룹코드**: 드롭다운 선택 (전체)
- 실시간 필터링 지원

#### 2.1.2 그룹코드 목록 표시
**표시 컬럼:**
- 선택 (체크박스)
- 순서 (자동 증가)
- 구분 (시스템 공통/미선택/책무구조)
- 그룹코드 (코드 ID)
- 그룹코드명 (코드명)
- 설명 (상세 설명)
- 사용여부 (활성/비활성)

**데이터 분류:**
- **시스템 공통** (20개): CD_DVCD, AUTH_EXT_TYCD, BZWK_KNCD 등
- **미선택** (34개): ITEM_BZWK_DVCD, DATA_LONG_DVCD, APRVL_TYCD 등  
- **책무구조** (8개): DPRM_CD, RSBT_OBLG_CD, BD_TYCD 등

#### 2.1.3 액션 버튼
- **추가**: 새로운 그룹코드 추가
- **수정**: 선택된 그룹코드 수정
- **삭제**: 선택된 그룹코드 삭제 (논리적 삭제)
- **저장**: 일괄 저장
- **엑셀**: 그룹코드 목록 엑셀 다운로드

### 2.2 코드 상세 화면 기능

#### 2.2.1 상세코드 목록 표시
**표시 컬럼:**
- 선택 (체크박스)
- 순서 (자동 증가)
- 코드 (상세 코드값)
- 코드명 (상세 코드명)
- 설명 (코드 설명)
- 사용여부 (활성/비활성)

**샘플 데이터 (이미지 기준):**
- CEO: 0000
- 사외이사: 1002
- 경영전략본부: 1010
- 리스크관리본부: 1011
- 준법감시인: 1013
- 디지털부본부: 1017
- 경영지원본부: 1024
- 감사본부: 1041
- 소비자보호본부: 1042
- 기업금융본부: 1101
- IB투자금융본부: 1111
- 여신관리본부: 1121

#### 2.2.2 액션 버튼
- **추가**: 새로운 상세코드 추가
- **수정**: 선택된 상세코드 수정
- **삭제**: 선택된 상세코드 삭제
- **저장**: 상세코드 저장

### 2.3 권한 및 접근 제어

#### 2.3.1 사용자 권한
- **시스템 관리자**: 모든 코드 CRUD 권한
- **일반 관리자**: 조회 및 제한적 수정 권한
- **읽기 전용**: 조회만 가능

#### 2.3.2 코드 보호 기능
- **시스템 핵심 코드**: 삭제 방지
- **참조 중인 코드**: 삭제 제한
- **변경 이력**: 모든 변경 사항 로깅

## 3. 비기능 요구사항

### 3.1 성능 요구사항
- 코드 목록 조회 응답시간: 2초 이내
- 코드 저장 응답시간: 1초 이내
- 동시 사용자: 최대 10명
- 대용량 코드 처리: 10,000개 코드까지 지원

### 3.2 보안 요구사항
- 관리자 권한 검증 필수
- 코드 변경 시 승인 프로세스
- 중요 코드 변경 시 이중 확인
- 접근 로그 기록 및 모니터링

### 3.3 사용성 요구사항
- 직관적인 UI/UX
- 일괄 편집 기능
- 실시간 유효성 검사
- 코드 중복 방지

## 4. 화면 흐름도

```
메인 화면 (그룹코드 목록)
    ↓ [그룹코드 선택]
코드 상세 화면 (상세코드 목록)
    ↓ [편집 작업]
저장/취소
    ↓ [저장 완료]
메인 화면 새로고침

메인 화면
    ↓ [엑셀 다운로드]
엑셀 파일 생성 및 다운로드

메인 화면
    ↓ [추가/수정/삭제]
편집 모드
    ↓ [유효성 검사]
저장 처리
```

## 5. 데이터 처리 규칙

### 5.1 코드 생성 규칙
- **그룹코드**: 영문 대문자 + 언더스코어 조합
- **상세코드**: 숫자 또는 영문 조합
- **코드명**: 한글 및 영문 허용
- **길이 제한**: 그룹코드 50자, 상세코드 20자, 코드명 200자

### 5.2 유효성 검사 규칙
- 그룹코드 중복 검사
- 상세코드 중복 검사 (동일 그룹 내)
- 필수 필드 입력 검증
- 특수문자 사용 제한

### 5.3 정렬 및 표시 규칙
- 구분별 그룹화 표시
- 그룹코드 알파벳 순 정렬
- 상세코드 코드값 순 정렬
- 사용하지 않는 코드는 하단 표시

## 6. 예외 처리

### 6.1 입력 유효성 검사
- 코드 형식 검증
- 필수 필드 누락 검사
- 코드 길이 제한 검사
- 특수문자 입력 제한

### 6.2 비즈니스 규칙 검증
- 코드 중복 검사
- 참조 무결성 검사
- 시스템 코드 보호
- 순환 참조 방지

### 6.3 시스템 오류 처리
- 데이터베이스 연결 오류
- 동시 편집 충돌 처리
- 대용량 데이터 처리 오류
- 네트워크 타임아웃

## 7. 인터페이스 요구사항

### 7.1 다른 시스템과의 연계
- 메뉴 권한 시스템: 권한 코드 연동
- 사용자 관리 시스템: 사용자 역할 코드 연동
- 워크플로우 시스템: 승인 상태 코드 연동

### 7.2 데이터 동기화
- 실시간 코드 변경 반영
- 캐시 무효화 처리
- 분산 시스템 간 코드 동기화

## 8. 테스트 케이스

### 8.1 기능 테스트
- 코드 CRUD 기능 테스트
- 검색 및 필터링 테스트
- 엑셀 다운로드 테스트
- 권한별 접근 제어 테스트

### 8.2 성능 테스트
- 대용량 코드 로딩 테스트
- 동시 접속 성능 테스트
- 메모리 사용량 테스트

### 8.3 보안 테스트
- 권한 우회 시도 테스트
- SQL Injection 방지 테스트
- XSS 공격 방지 테스트

## 9. 데이터 마이그레이션

### 9.1 기존 코드 이관
- 현재 시스템의 코드 데이터 분석
- 코드 체계 정규화
- 중복 코드 정리
- 단계별 이관 계획

### 9.2 검증 절차
- 이관 전후 데이터 비교
- 참조 무결성 검증
- 기능 동작 검증

## 10. 운영 및 유지보수

### 10.1 모니터링
- 코드 사용 빈도 통계
- 성능 지표 모니터링
- 오류 발생 추적

### 10.2 백업 및 복구
- 정기적인 코드 백업
- 변경 이력 보관
- 장애 시 복구 절차

### 10.3 코드 거버넌스
- 코드 명명 규칙 수립
- 코드 생명주기 관리
- 정기적인 코드 정리

## 11. 추가 고려사항

### 11.1 확장성
- 새로운 코드 분류 추가 대응
- 다국어 코드명 지원
- API 연동 확장

### 11.2 호환성
- 레거시 시스템 코드 호환
- 브라우저 호환성
- 모바일 접근 지원

### 11.3 규정 준수
- 데이터 보안 규정 준수
- 접근 권한 관리 규정
- 변경 관리 프로세스 준수