# 책무구조도 이행점검 점검수행및결재 요구사항정의서

## 1. 개요

### 1.1 문서 정보
- **문서명**: 책무구조도 이행점검 점검수행및결재 요구사항정의서
- **시스템명**: 책무구조도 이행관리시스템
- **화면명**: 이행점검 점검수행 및 결재
- **작성일**: 2025-09-11
- **버전**: 1.0

### 1.2 화면 정보
- **화면 ID**: PCHK_EXE_001
- **화면명**: 이행점검 점검수행 및 결재
- **메뉴 경로**: 책무구조도 > 이행점검 > 점검수행 및 결재
- **접근 권한**: 사용자, 관리자
- **화면 유형**: 목록 조회 및 점검 수행/결재형

## 2. 업무 개요

### 2.1 업무 목적
지정된 점검자가 관리활동에 대한 이행점검을 수행하고, 검사자가 점검 결과를 검토하여 최종 승인하는 다단계 점검 및 결재 프로세스를 지원한다.

### 2.2 주요 기능
- 점검 대상 관리활동 목록 조회 및 필터링
- 관리활동 상세 정보 확인 및 검토
- 점검자의 1차 점검 수행 및 의견 작성
- 검사자의 2차 점검 및 최종 결재
- 점검 진행 상태 관리 및 추적
- 크로스체크를 통한 점검 품질 보장

### 2.3 업무 프로세스 연계
- **이전 단계**: 점검자지정 → **현재 단계**: 점검수행 및 결재 → **다음 단계**: 반려관리

### 2.4 다단계 점검 프로세스
```
관리활동 수행 → 1차 점검(점검자) → 2차 점검(검사자) → 최종 승인
```

## 3. 화면 구성

### 3.1 전체 레이아웃
```
┌─────────────────────────────────────────────────────────────┐
│ Header (로고, 메뉴, 사용자 정보)                              │
├─────────────────────────────────────────────────────────────┤
│ ┌──────────┐ │                                               │
│ │ 좌측메뉴  │ │ 메인 컨텐츠 영역                              │
│ │          │ │ ┌─────────────────────────────────────────┐  │
│ │          │ │ │ 검색 필터 영역                           │  │
│ │          │ │ ├─────────────────────────────────────────┤  │
│ │          │ │ │ 액션 버튼 영역                           │  │
│ │          │ │ ├─────────────────────────────────────────┤  │
│ │          │ │ │ 데이터 그리드 (점검 수행 목록)           │  │
│ │          │ │ │                                         │  │
│ └──────────┘ │ └─────────────────────────────────────────┘  │
└─────────────────────────────────────────────────────────────┘
```

### 3.2 검색 필터 영역
- **점검명**: 드롭다운 선택 (현재: 2026년1차년 이행점검 | 2026.07.31~2026.08.31)
- **이행점검 수행대상**: 드롭다운 선택 (전체/진행중/완료/미수행)
- **부울코드**: 입력 필드 (현재: 0000)
- **행정도움**: 검색 필터

### 3.3 액션 버튼
- **결과 상세**: 점검 결과 상세 조회
- **미결재**: 미결재 항목 필터링
- **수행완료**: 수행 완료 처리 (녹색 버튼)

### 3.4 메인 데이터 그리드
| 컬럼명 | 설명 | 타입 | 필수 | 비고 |
|--------|------|------|------|------|
| 순번 | 일련번호 | Number | O | 자동 채번 |
| 관리활동명 | 관리활동 명칭 | String | O | 점검 대상 활동명 |
| 관리활동차시 | 관리활동 차수 | String | O | 년도 + 회차 |
| 관리활동상세 | 관리활동 상세 내용 | String | O | 활동 상세 설명 |
| 내부/외제 | 점검 주체 구분 | String | O | 내부/외부 구분 |
| 구분 | 세부 구분 정보 | String | N | 추가 분류 |
| 내부/외제제한정보 | 제한 조건 | String | N | 점검 제한 사항 |
| 수행자 | 관리활동 수행자 | String | O | 사용자ID-사용자명 |
| 수행대상 | 수행 대상 | String | N | 수행 대상 정보 |
| 수행결과 | 수행 결과 | String | N | 수행 완료 상태 |
| 점검자 | 지정된 점검자 | String | O | 점검 담당자 |
| 점검대상 | 점검 대상 | String | N | 점검 범위 |
| 1차 | 1차 점검 결과 | String | N | 점검자 점검 결과 |
| 2차 | 2차 점검 결과 | String | N | 검사자 점검 결과 |

### 3.5 이행점검 대상 상세 팝업 구성

#### 3.5.1 좌측 패널 - 관리활동 정보
- **활동코드**: 관리활동 고유 식별자
- **관리활동명**: 활동 명칭
- **방법1**: 활동 수행 방법 설명
- **이행점검관련**: 점검 관련 정보
- **내부/외제차시 구분**: 차시별 구분 정보
- **관련 내규**: 관련 규정 정보
- **중점 가이드**: 점검 가이드라인
- **중점 원칙**: 점검 원칙

#### 3.5.2 우측 패널 - 점검 수행 및 결과
**방법1,2 섹션**
- 관리활동 수행 방법 상세 설명

**관리활동 수행 내용 확인(검사활동결과) 섹션**
- 수행자의 관리활동 작성여부 수행되었습니까?: 선택 필드 (작성/미작성)
- 점검 의견: 텍스트 영역 (자유 입력)

**이행점검 결과 작성(점검자) 섹션**
- 수행자의 관리활동 작성여부 수행되었습니까?: 선택 필드
- 점검 의견: 텍스트 영역

**이행점검 결과 확인(검사활동결과) 섹션**
- 점검자의 이행점검 작성여부 수행되었습니까?: 선택 필드
- 최인 의견: 텍스트 영역

## 4. 기능 요구사항

### 4.1 조회 기능

**FR-001 점검 대상 목록 조회**
- 선택된 점검 기간에 해당하는 모든 점검 대상을 조회한다
- 관리활동 정보와 점검 진행 상태를 함께 표시한다
- 기본 정렬: 순번 오름차순

**FR-002 점검 수행대상 필터링**
- 점검 수행 상태별로 목록을 필터링한다
- 필터 옵션: 전체, 진행중, 완료, 미수행

**FR-003 점검 상세 정보 조회**
- 목록에서 선택한 항목의 상세 정보를 팝업으로 표시한다
- 관리활동 정보와 점검 수행 이력을 함께 조회한다

### 4.2 점검 수행 기능

**FR-004 1차 점검 수행**
- 점검자가 관리활동 수행 내용을 검토하고 점검 의견을 작성한다
- 점검 결과를 선택형(적합/부적합/보완필요) 또는 자유 입력으로 기록한다
- 점검 수행 일시와 점검자 정보를 자동 기록한다

**FR-005 2차 점검 수행**
- 검사자가 점검자의 점검 결과를 검토하고 최종 의견을 작성한다
- 크로스체크를 통한 점검 품질 검증을 수행한다
- 최종 점검 결과를 확정한다

**FR-006 점검 의견 작성**
- 각 단계별로 상세한 점검 의견을 작성할 수 있다
- 텍스트 에디터 기능을 통한 서식 있는 의견 작성 지원
- 의견 작성 필수/선택 여부는 점검 유형에 따라 설정

### 4.3 결재 프로세스 기능

**FR-007 결재 상태 관리**
- 점검 진행 상태를 단계별로 관리한다
- 상태 구분: 미수행 → 1차점검중 → 2차점검중 → 완료 → 반려
- 각 상태 변경 시 이력을 기록한다

**FR-008 결재선 관리**
- 점검자 → 검사자 순서의 결재선을 관리한다
- 결재자별 권한 및 처리 기한을 설정한다
- 결재 위임 및 대행 기능을 제공한다

**FR-009 일괄 결재 처리**
- 동일한 결재자가 처리해야 할 여러 건을 일괄 처리할 수 있다
- 일괄 의견 적용 및 결과 설정 기능을 제공한다

### 4.4 품질 관리 기능

**FR-010 크로스체크**
- 점검자와 검사자의 점검 결과를 상호 비교한다
- 불일치 항목에 대한 재검토 프로세스를 제공한다
- 점검 품질 지표를 산출하고 관리한다

**FR-011 점검 기준 관리**
- 관리활동별 점검 기준과 체크리스트를 제공한다
- 점검 가이드라인과 참고 자료를 연계한다
- 점검 결과의 일관성을 보장한다

## 5. 비기능 요구사항

### 5.1 성능 요구사항
- **NFR-001**: 화면 로딩 시간 3초 이내
- **NFR-002**: 점검 상세 정보 조회 응답 시간 2초 이내
- **NFR-003**: 동시 점검 수행 작업 100건 지원
- **NFR-004**: 대용량 점검 데이터 페이징 처리

### 5.2 보안 요구사항
- **NFR-005**: 점검자는 자신에게 할당된 항목만 접근 가능
- **NFR-006**: 모든 점검 활동에 대한 감사 로그 기록
- **NFR-007**: 점검 결과 무결성 보장을 위한 전자서명 적용

### 5.3 사용성 요구사항
- **NFR-008**: 직관적인 점검 진행 상태 표시
- **NFR-009**: 점검 의견 작성을 위한 리치 텍스트 에디터 제공
- **NFR-010**: 모바일 환경에서의 점검 수행 지원

## 6. 업무 프로세스

### 6.1 전체 점검 수행 프로세스
```
1. 점검 대상 확인
   1-1. 점검명 선택
   1-2. 점검 대상 목록 조회
   1-3. 점검 상태 확인

2. 1차 점검 수행 (점검자)
   2-1. 관리활동 상세 정보 확인
   2-2. 관리활동 수행 내용 검토
   2-3. 점검 의견 작성
   2-4. 점검 결과 선택
   2-5. 1차 점검 완료 처리

3. 2차 점검 수행 (검사자)
   3-1. 1차 점검 결과 검토
   3-2. 크로스체크 수행
   3-3. 최종 점검 의견 작성
   3-4. 최종 점검 결과 확정
   3-5. 승인 또는 반려 처리

4. 점검 완료 처리
   4-1. 점검 결과 확정
   4-2. 관련자 알림 발송
   4-3. 다음 단계 프로세스 연계
```

### 6.2 상세 점검 수행 프로세스
```
[1차 점검자 작업]
1. 관리활동 수행 내용 확인
2. 점검 기준에 따른 적합성 검토
3. 점검 의견 작성
   - 적합: "관리활동이 적절히 수행됨"
   - 부적합: "개선 필요 사항 기재"
   - 보완필요: "추가 확인 필요 사항 기재"
4. 점검 결과 저장

[2차 검사자 작업]  
1. 1차 점검 결과 검토
2. 점검 품질 확인
3. 필요시 추가 검토 수행
4. 최종 의견 작성
5. 승인/반려 결정
```

## 7. 화면 상세 설계

### 7.1 점검 상태 표시 방식
- **미수행**: 회색 표시, "미수행" 텍스트
- **1차점검중**: 노란색 표시, "점검중" 텍스트
- **2차점검중**: 주황색 표시, "검토중" 텍스트
- **완료**: 녹색 표시, "완료" 텍스트
- **반려**: 빨간색 표시, "반려" 텍스트

### 7.2 점검 의견 작성 UI
```
┌─────────────────────────────────────┐
│ 점검 의견 작성                       │
├─────────────────────────────────────┤
│ 점검 결과: ○적합 ○부적합 ○보완필요   │
├─────────────────────────────────────┤
│ 상세 의견:                          │
│ ┌─────────────────────────────────┐ │
│ │ [리치 텍스트 에디터]              │ │
│ │ - 볼드, 이탤릭, 색상 지원        │ │
│ │ - 번호 목록, 글머리 기호 지원    │ │
│ │ - 첨부파일 업로드 지원           │ │
│ └─────────────────────────────────┘ │
├─────────────────────────────────────┤
│ 첨부파일: [파일 선택] [업로드]       │
├─────────────────────────────────────┤
│              [저장] [취소]           │
└─────────────────────────────────────┘
```

### 7.3 크로스체크 결과 표시
```
┌─────────────────────────────────────┐
│ 크로스체크 결과                      │
├─────────────────────────────────────┤
│ 1차 점검 결과: 적합                 │
│ 2차 점검 결과: 적합                 │
│ 일치 여부: ✓ 일치                   │
├─────────────────────────────────────┤
│ 불일치 사유: (해당없음)             │
│ 재검토 필요: ○예 ●아니오            │
└─────────────────────────────────────┘
```

## 8. 유효성 검증

### 8.1 필수 입력 검증
- 점검 결과 선택: 필수
- 점검 의견: 부적합/보완필요 선택 시 필수
- 검사자 최종 의견: 필수

### 8.2 비즈니스 규칙 검증
- 점검자는 자신에게 할당된 항목만 점검 가능
- 1차 점검 완료 후에만 2차 점검 수행 가능
- 관리활동 수행 완료 후에만 점검 수행 가능
- 결재 완료된 항목은 수정 불가

### 8.3 워크플로우 검증
- 점검 단계 순서 준수 확인
- 권한별 접근 가능한 기능 제한
- 점검 기한 경과 시 알림 및 에스컬레이션

## 9. 예외 처리

### 9.1 시스템 예외
- 점검 수행 중 시스템 오류 시 임시 저장 기능
- 네트워크 불안정 시 자동 재연결 및 복구
- 동시 수정 충돌 시 버전 충돌 해결

### 9.2 업무 예외
- 점검 기한 초과 시 자동 에스컬레이션
- 점검자 부재 시 대행자 지정 기능
- 점검 결과 불일치 시 재검토 프로세스

## 10. 인터페이스 명세

### 10.1 API 엔드포인트
- `GET /api/inspection-executions/{periodId}` - 점검 대상 목록 조회
- `GET /api/inspection-executions/{id}/detail` - 점검 상세 정보 조회
- `POST /api/inspection-executions/{id}/first-check` - 1차 점검 수행
- `POST /api/inspection-executions/{id}/second-check` - 2차 점검 수행
- `PUT /api/inspection-executions/{id}/opinion` - 점검 의견 수정
- `POST /api/inspection-executions/bulk-approve` - 일괄 승인 처리
- `GET /api/inspection-executions/{id}/history` - 점검 이력 조회

### 10.2 데이터 구조
```json
// 점검 수행 요청
{
  "executionId": "EXEC_001",
  "checkResult": "PASS",
  "opinion": "관리활동이 적절히 수행되었습니다.",
  "attachments": ["file1.pdf", "file2.docx"],
  "checkDate": "2025-09-11T14:30:00Z"
}

// 점검 상세 정보 응답
{
  "executionId": "EXEC_001",
  "managementActivity": {
    "activityCode": "M000000001",
    "activityName": "역량 산업",
    "method": "교육수행내과",
    "guidelines": "중점 가이드 내용"
  },
  "checkStatus": "FIRST_CHECK_COMPLETED",
  "firstCheck": {
    "result": "PASS",
    "opinion": "적절히 수행됨",
    "checkDate": "2025-09-11T10:00:00Z",
    "checker": "이신혁"
  },
  "secondCheck": null
}
```

## 11. 개발 고려사항

### 11.1 기술 스택
- Frontend: React.js, TypeScript
- Rich Text Editor: Quill.js 또는 TinyMCE
- State Management: Redux Toolkit + RTK Query
- File Upload: React Dropzone
- UI Framework: Ant Design

### 11.2 주요 컴포넌트
- **ExecutionGrid**: 점검 수행 목록 그리드
- **ExecutionDetailModal**: 점검 상세 정보 모달
- **OpinionEditor**: 점검 의견 작성 에디터
- **StatusIndicator**: 점검 상태 표시 컴포넌트
- **CrossCheckPanel**: 크로스체크 결과 패널

### 11.3 상태 관리
```typescript
interface ExecutionState {
  selectedPeriod: InspectionPeriod | null;
  executions: InspectionExecution[];
  currentExecution: InspectionExecution | null;
  filters: ExecutionFilters;
  checkHistory: CheckHistory[];
  loading: boolean;
  error: string | null;
}
```

## 12. 테스트 시나리오

### 12.1 기능 테스트
- 점검 목록 조회 및 필터링 기능 테스트
- 1차/2차 점검 수행 기능 테스트
- 점검 의견 작성 및 수정 기능 테스트
- 결재 프로세스 진행 테스트
- 크로스체크 기능 테스트

### 12.2 워크플로우 테스트
- 점검 단계별 진행 테스트
- 권한별 접근 제어 테스트
- 점검 기한 관리 테스트
- 에스컬레이션 프로세스 테스트

### 12.3 성능 테스트
- 대용량 점검 데이터 로딩 성능 테스트
- 동시 점검 수행 성능 테스트
- 파일 업로드 성능 테스트

## 13. 운영 고려사항

### 13.1 모니터링
- 점검 진행률 모니터링
- 점검 소요 시간 분석
- 점검 품질 지표 관리
- 기한 초과 항목 모니터링

### 13.2 데이터 관리
- 점검 결과 데이터 보관 정책
- 첨부파일 저장소 관리
- 점검 이력 아카이빙
- 개인정보 포함 데이터 보호

### 13.3 사용자 지원
- 점검 수행 가이드 제공
- 자주 묻는 질문(FAQ) 관리
- 사용자 교육 자료 제공
- 헬프데스크 지원 체계