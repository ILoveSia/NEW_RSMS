# 책무구조도 이행점검 점검자지정 요구사항정의서

## 1. 개요

### 1.1 문서 정보
- **문서명**: 책무구조도 이행점검 점검자지정 요구사항정의서
- **시스템명**: 책무구조도 이행관리시스템
- **화면명**: 이행점검 점검자지정
- **작성일**: 2025-09-11
- **버전**: 1.0

### 1.2 화면 정보
- **화면 ID**: PCHK_ASG_001
- **화면명**: 이행점검 점검자지정
- **메뉴 경로**: 책무구조도 > 이행점검 > 점검자지정
- **접근 권한**: 관리자
- **화면 유형**: 목록 조회 및 점검자 지정형

## 2. 업무 개요

### 2.1 업무 목적
설정된 이행점검 기간에 대해 각 점검 항목별로 적절한 점검자를 지정하여 체계적이고 효율적인 이행점검 수행을 지원한다.

### 2.2 주요 기능
- 점검 항목별 점검자 조회 및 지정
- 내부/외부 점검자 구분 관리
- 점검자 지정상태 필터링 및 검색
- 점검 차시별 점검자 관리
- 점검 완료 상태 관리

### 2.3 업무 프로세스 연계
- **이전 단계**: 기간설정 → **현재 단계**: 점검자지정 → **다음 단계**: 점검수행 및 결과

## 3. 화면 구성

### 3.1 전체 레이아웃
```
┌─────────────────────────────────────────────────────────────┐
│ Header (로고, 메뉴, 사용자 정보)                              │
├─────────────────────────────────────────────────────────────┤
│ ┌──────────┐ │                                               │
│ │ 좌측메뉴  │ │ 메인 컨텐츠 영역                              │
│ │          │ │ ┌─────────────────────────────────────────┐  │
│ │          │ │ │ 검색 필터 영역                           │  │
│ │          │ │ ├─────────────────────────────────────────┤  │
│ │          │ │ │ 데이터 그리드 (점검 항목 및 점검자 지정) │  │
│ │          │ │ │                                         │  │
│ └──────────┘ │ └─────────────────────────────────────────┘  │
└─────────────────────────────────────────────────────────────┘
```

### 3.2 검색 필터 영역
- **점검명**: 드롭다운 선택 (현재: 2026년1차년 이행점검 | 2026.07.31~2026.08.31)
- **점검자 지정상태**: 드롭다운 선택 (전체/지정완료/미지정)
- **부울코드**: 입력 필드 (현재: 0000)
- **행정도움**: 검색 필터 (돋보기 아이콘)

### 3.3 액션 버튼
- **저장**: 점검자 지정 정보 저장

### 3.4 데이터 그리드
| 컬럼명 | 설명 | 타입 | 필수 | 비고 |
|--------|------|------|------|------|
| 상태 | 점검자 지정 상태 | Icon | - | 체크박스 형태 |
| 순번 | 일련번호 | Number | O | 자동 채번 |
| 관리명칭명 | 점검 대상 관리명칭 | String | O | 점검 항목명 |
| 차시 | 점검 차수 | String | O | n회차 형태 |
| 내부/외제 | 점검 주체 구분 | String | O | 내부/외부 구분 |
| 구분 | 세부 구분 정보 | String | N | 추가 분류 |
| 내부/외제제한정보 | 점검 제한 사항 | String | N | 제한 조건 |
| 수정자 | 최종 수정자 정보 | String | O | 사용자ID-사용자명 |
| 점검자 | 지정된 점검자 | Button | N | 점검자 선택/변경 버튼 |
| 점검일자 | 점검 예정/완료 일자 | String | N | 초회/날짜 정보 |
| END YN | 점검 완료 여부 | String | O | Y/N |

## 4. 기능 요구사항

### 4.1 조회 기능

**FR-001 점검 항목 목록 조회**
- 선택된 점검 기간에 해당하는 모든 점검 항목을 조회한다
- 기본 정렬: 순번 오름차순

**FR-002 점검자 지정상태 필터링**
- 점검자 지정상태별로 목록을 필터링한다
- 필터 옵션: 전체, 지정완료, 미지정

**FR-003 부울코드 검색**
- 부울코드를 기준으로 점검 항목을 검색한다
- 부분 일치 검색 지원

**FR-004 행정도움 검색**
- 행정도움 관련 키워드로 점검 항목을 검색한다

### 4.2 점검자 지정 기능

**FR-005 점검자 선택**
- 점검자 버튼 클릭 시 점검자 선택 팝업을 표시한다
- 내부/외부 점검자 구분에 따른 선택 가능 점검자 목록 제공

**FR-006 점검자 지정**
- 선택한 점검자를 해당 점검 항목에 지정한다
- 점검자 지정 시 지정일시와 지정자 정보를 자동 기록한다

**FR-007 점검자 변경**
- 기존에 지정된 점검자를 다른 점검자로 변경할 수 있다
- 변경 이력을 관리한다

**FR-008 점검자 지정 해제**
- 지정된 점검자를 해제할 수 있다
- 해제 시 확인 메시지를 표시한다

### 4.3 데이터 관리 기능

**FR-009 일괄 저장**
- 변경된 점검자 지정 정보를 일괄 저장한다
- 저장 전 유효성 검증을 수행한다

**FR-010 점검 완료 상태 관리**
- 점검 완료 시 END YN을 'Y'로 업데이트한다
- 완료된 점검은 점검자 변경을 제한한다

### 4.4 권한 관리 기능

**FR-011 지정 권한 검증**
- 관리자 권한 사용자만 점검자를 지정할 수 있다
- 점검 기간 상태에 따른 지정 가능 여부 검증

## 5. 비기능 요구사항

### 5.1 성능 요구사항
- **NFR-001**: 화면 로딩 시간 3초 이내
- **NFR-002**: 점검자 목록 조회 응답 시간 2초 이내
- **NFR-003**: 동시 점검자 지정 작업 50건 지원

### 5.2 보안 요구사항
- **NFR-004**: 관리자 권한 사용자만 접근 가능
- **NFR-005**: 점검자 지정/변경 이력 감사 로그 기록
- **NFR-006**: 점검자 개인정보 보호 준수

### 5.3 사용성 요구사항
- **NFR-007**: 점검자 선택 팝업의 직관적인 UI 제공
- **NFR-008**: 대용량 점검 항목에 대한 페이징 처리
- **NFR-009**: 점검자 지정 상태의 시각적 구분

## 6. 업무 프로세스

### 6.1 점검자 지정 프로세스
```
1. 점검명 선택 (기간설정에서 등록된 점검 선택)
2. 점검 항목 목록 로드
3. 점검 항목별 점검자 지정상태 확인
4. 미지정 항목에 대해 점검자 지정
   4-1. 점검자 버튼 클릭
   4-2. 점검자 선택 팝업 표시
   4-3. 내부/외부 구분에 따른 점검자 목록 조회
   4-4. 적절한 점검자 선택
   4-5. 확인 버튼 클릭
5. 저장 버튼 클릭
6. 유효성 검증
7. 데이터베이스 저장
8. 지정 완료 알림
```

### 6.2 점검자 변경 프로세스
```
1. 변경할 점검 항목의 점검자 버튼 클릭
2. 현재 지정된 점검자 정보 표시
3. 새로운 점검자 선택
4. 변경 사유 입력 (선택사항)
5. 확인 버튼 클릭
6. 변경 이력 저장
7. 점검자 정보 업데이트
```

## 7. 화면 상세 설계

### 7.1 점검자 선택 팝업 설계
```
┌─────────────────────────────────────┐
│ 점검자 선택                          │
├─────────────────────────────────────┤
│ 구분: ○ 내부점검자  ○ 외부점검자     │
├─────────────────────────────────────┤
│ 검색: [_______________] [검색]      │
├─────────────────────────────────────┤
│ ┌─┬─────┬─────┬─────┬─────┐      │
│ │□│이름  │부서  │직급  │전문영역│      │
│ ├─┼─────┼─────┼─────┼─────┤      │
│ │○│이신혁│기획팀│대리  │시스템  │      │
│ │○│김철수│개발팀│과장  │보안    │      │
│ └─┴─────┴─────┴─────┴─────┘      │
├─────────────────────────────────────┤
│              [확인] [취소]           │
└─────────────────────────────────────┘
```

### 7.2 상태 표시 방식
- **미지정**: 빈 버튼 또는 "선택" 버튼
- **지정완료**: 점검자명이 표시된 파란색 버튼
- **점검완료**: 점검자명이 표시된 회색 버튼 (변경 불가)

## 8. 유효성 검증

### 8.1 필수 입력 검증
- 점검명 선택: 필수
- 내부/외부 구분이 있는 항목: 해당 구분의 점검자만 지정 가능

### 8.2 비즈니스 규칙 검증
- 한 명의 점검자는 동일 차시에 여러 항목을 담당할 수 있음
- 외부 점검자의 경우 전문 영역 일치 여부 확인
- 점검 완료된 항목은 점검자 변경 불가
- 점검 기간이 종료된 경우 점검자 지정 불가

### 8.3 데이터 무결성 검증
- 지정된 점검자의 존재 여부 확인
- 점검자의 활성 상태 확인
- 중복 지정 방지 (필요시)

## 9. 예외 처리

### 9.1 시스템 예외
- 점검자 목록 조회 실패 시 재시도 메커니즘
- 네트워크 오류 시 임시 저장 기능
- 동시 수정 충돌 시 최신 데이터 반영 안내

### 9.2 사용자 예외
- 권한 없는 점검자 지정 시도 시 경고 메시지
- 이미 지정된 점검자 재지정 시 확인 메시지
- 필수 점검자가 미지정된 상태로 저장 시도 시 검증 메시지

## 10. 인터페이스 명세

### 10.1 API 엔드포인트
- `GET /api/inspection-items/{periodId}` - 점검 항목 목록 조회
- `GET /api/inspectors` - 점검자 목록 조회
- `POST /api/inspection-assignments` - 점검자 지정
- `PUT /api/inspection-assignments/{id}` - 점검자 변경
- `DELETE /api/inspection-assignments/{id}` - 점검자 지정 해제
- `POST /api/inspection-assignments/bulk` - 일괄 저장

### 10.2 데이터 구조
```json
// 점검자 지정 요청
{
  "inspectionItemId": "ITEM_001",
  "inspectorId": "INSPECTOR_001",
  "assignmentDate": "2025-09-11",
  "assignmentReason": "전문성 보유"
}

// 점검자 정보 응답
{
  "inspectorId": "INSPECTOR_001",
  "name": "이신혁",
  "department": "기획팀",
  "position": "대리",
  "specialtyArea": "시스템",
  "type": "INTERNAL"
}
```

## 11. 개발 고려사항

### 11.1 기술 스택
- Frontend: React.js, TypeScript
- State Management: Redux Toolkit
- UI Components: Ant Design
- API Communication: React Query

### 11.2 주요 컴포넌트
- **InspectorSelectionModal**: 점검자 선택 모달
- **AssignmentGrid**: 점검자 지정 그리드
- **FilterPanel**: 검색 필터 패널
- **AssignmentButton**: 점검자 지정 버튼

### 11.3 상태 관리
```typescript
interface AssignmentState {
  selectedPeriod: InspectionPeriod | null;
  inspectionItems: InspectionItem[];
  inspectors: Inspector[];
  assignments: Assignment[];
  filters: FilterOptions;
  loading: boolean;
}
```

## 12. 테스트 시나리오

### 12.1 기능 테스트
- 점검자 지정 기능 정상 동작 확인
- 필터링 기능 정상 동작 확인
- 점검자 변경 및 해제 기능 확인
- 일괄 저장 기능 확인

### 12.2 예외 테스트
- 권한 없는 사용자 접근 테스트
- 잘못된 데이터 입력 테스트
- 네트워크 오류 상황 테스트
- 동시 수정 충돌 테스트

### 12.3 성능 테스트
- 대용량 점검 항목 로딩 성능 테스트
- 점검자 검색 성능 테스트
- 일괄 저장 성능 테스트

## 13. 운영 고려사항

### 13.1 모니터링
- 점검자 지정 완료율 모니터링
- 점검자별 담당 항목 수 모니터링
- 지정 소요 시간 모니터링

### 13.2 데이터 관리
- 점검자 지정 이력 데이터 보관 정책
- 개인정보 관련 데이터 보호 방안
- 정기적인 데이터 정합성 검증